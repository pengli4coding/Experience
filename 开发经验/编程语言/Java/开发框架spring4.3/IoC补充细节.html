<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IoC补充细节</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <h1>bean的作用域</h1>
    <h3>bean的作用域通过&lt;bean.../&gt;元素的scope属性指定，一共有以下5种作用域：</h3>
    <ul>
        <li>singleton：默认值，单例模式，整个IoC容器中只有一个bean的实例</li>
        <li>prototype：多例模式，每次通过getBean()方法获取bean的时候，都会产生一个新的bean实例</li>
        <li>request：对于每一次HTTP请求，都会产生一个新的bean实例，在同一个HTTP请求内，用同一个bean实例</li>
        <li>session：对于每一次HTTP会话，都会产生一个新的bean实例，在同一个HTTP会话内，用同一个bean实例</li>
        <li>global session：</li>
    </ul>
    <h3>示例如下：</h3>
    <h4>示例一：</h4>
    <img src="./img/QQ截图20180701134728.png" alt="">
    <img src="./img/QQ截图20180701134802.png" alt="">
    <br><br>
    <h4>示例二：</h4>
    <img src="./img/QQ截图20180701134910.png" alt="">
    <img src="./img/QQ截图20180701134927.png" alt="">
    <br>
    <br>
    <br>
    <h1>bean的生命周期</h1>
    <h3>spring可以管理作用域为singletono的bean的生命周期（负责bean的创建和销毁），而对于作用域为prototype的bean，spring只是负责bean的创建，无法管理bean的销毁。</h3>
    <img src="./img/QQ截图20180701142335.png" alt="">
    <img src="./img/QQ截图20180701142532.png" alt="">
    <br>
    <br>
    <br>
    <h1>自动装配（不推荐使用）</h1>
    <h3>spring能自动装配bean与bean之间的依赖关系，即无需使用ref显式指定依赖bean，而是由spring容器检查XML配置文件内容，根据某种规则，为调用者bean注入依赖bean。<font color = red>自动装配可以减少配置文件的工作量，但降低了依赖关系的透明性和清晰性，同时非常不利于高层解耦</font></font></h3>
    <h3>自动装配可以在&lt;beans.../&gt;元素的default-autowire属性指定，该属性堆配置文件中所有的bean起作用；也可以通过&lt;bean.../&gt;元素的autowire属性指定，该属性只对当前bean起作用。</h3>
    <h3>atuowire、default-autowire属性可以接受以下常用值：</h3>
    <ul>
        <li>no：默认值，不适用自动装配，bean依赖必须通过ref元素定义</li>
        <li>byName：根据setter方法的方法名与bean的id进行匹配（先将setter方法名去掉set前缀，并小写首字母，然后找出与其一致的id）</li>
        <li>byType：根据setter方法的参数类型与bean的类型进行匹配</li>
    </ul>
    <h3>示例如下：</h3>
    <h4>示例一：</h4>
    <img src="./img/QQ截图20180701130951.png" alt="">
    <img src="./img/QQ截图20180701131057.png" alt="">
    <br>
    <br>
    <h4>示例二：</h4>
    <img src="./img/QQ截图20180701132454.png" alt="">
    <img src="./img/QQ截图20180701132557.png" alt="">
    <br>
    <br>
    <br>
</body>
</html>